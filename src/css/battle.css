@charset "utf-8";
.battle_area{
  position:relative;background:#3e2c00;transition:height 1s;
}
.battle_area:before{
  content:'';position:absolute;top:0;bottom:0;width:50px;z-index:1;pointer-events:none;transition:left 1s;
}
.battle_area:after{
  content:'';position:absolute;top:0;bottom:0;width:50px;z-index:1;pointer-events:none;transition:right 1s;
}
.battle_units{
  display:flex;flex-direction:column;position:absolute;left:0;right:0;top:0;bottom:0;z-index:2;
}
.battle_units > div{
  position:relative;margin:0 auto;box-sizing:border-box;transition:all 1s;
}
.battle_units > div .effect0:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect1:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect2:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect3:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect4:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect5:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect6:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-w),inset 0 0 5px 5px var(--color-w);z-index:10;opacity:1;}
.battle_units > div .effect7:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-yellow),inset 0 0 5px 5px var(--color-yellow);z-index:10;opacity:1;}
.battle_units > div .effect8:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-b),inset 0 0 5px 5px var(--color-b);z-index:10;opacity:1;}
.battle_units > div .effect9:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-blue),inset 0 0 5px 5px var(--color-blue);z-index:10;opacity:1;}
.battle_units > div .effect10:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-red),inset 0 0 5px 5px var(--color-red);z-index:10;opacity:1;}
.battle_units > div .effect11:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-lightblue),inset 0 0 5px 5px var(--color-lightblue);z-index:10;opacity:1;}
.battle_units > div .effect12:before{content:'';position:absolute;left:10%;right:10%;top:10%;bottom:10%;background-color:transparent;box-shadow:0 0 5px 5px var(--color-green),inset 0 0 5px 5px var(--color-green);z-index:10;opacity:1;}

.battle_ch.action .ch_box .ring_back{box-shadow:0 0 30px 10px #000;}
.battle_ch.relation:after{content:'';position:absolute;left:50%;top:50%;width:100%;height:100%;transform:translate(-50%,-50%);z-index:1;filter:blur(5px);opacity:0;pointer-events:none;}
.battle_ch .ch_box{position:absolute;left:5%;top:5%;width:90%;height:90%;transform-origin:50% 100%;transform-style:preserve-3d;pointer-events:none;}
.battle_ch .ch_box .hpsp{display:flex;position:absolute;height:25%;width:100%;top:-30%;flex-direction:column;justify-content:space-between;}
.battle_ch.on .hpsp{top:-40%;}
.battle_ch .ch_box .hpsp span{display:flex;height:45%;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:inset 0 0 2px #000;}
.battle_ch .ch_box .hpsp span em{display:inline-block;border-radius:10px;}
.battle_ch .ch_box .hpsp span.hp em{height:100%;width:100%;background-color:var(--color-red);}
.battle_ch .ch_box .hpsp span.sp em{height:100%;width:100%;background-color:var(--color-blue);}
.battle_ch.on{z-index:2;}
.battle_ch.on .ch_box{transform: scale(1.5) translate(0, 20%);}
.battle_ch.on .ring_back{box-shadow:0 0 30px #fff,0 0 10px #ff0,0 0 5px #f40;}
.battle_ch:after{content:'';position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;}
.battle_ch .dmg{position:absolute;left:0;right:0;top:0;bottom:0;filter:blur(7px);transform:scale(1.3);pointer-events:none;z-index:3;}
.battle_ch.die .ch_box{opacity:0;transform:scale(.1);}
.battle_ch .ch_buff{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;width:100%;height:100%;overflow:hidden;z-index:1;}
.battle_ch .ch_buff .buff_effect{position:absolute;width:500%;}
.battle_ch .ch_passive{position:absolute;pointer-events:none;width:30%;padding-top:30%;z-index:1;opacity:0;}
.battle_ch .ch_passive.passive0{animation:fadeIn 0.5s linear;animation-fill-mode:forwards;}
.battle_ch .ch_passive.passive1{animation:fadeIn 0.5s 0.3s linear;animation-fill-mode:forwards;}
.battle_ch .ch_passive.passive2{animation:fadeIn 0.5s 0.6s linear;animation-fill-mode:forwards;}
.battle_ch .ch_passive.passive3{animation:fadeIn 0.5s 0.9s linear;animation-fill-mode:forwards;}
.battle_ch .ch_passive.passive4{animation:fadeIn 0.5s 1.2s linear;animation-fill-mode:forwards;}
.battle_ch .ch_passive.passive5{animation:fadeIn 0.5s 1.5s linear;animation-fill-mode:forwards;}
.battle_ch .ch_passive.remove{animation:fadeOut 0.5s linear;}
/*상태이상*/
.battle_ch.bleeding .ch_box .ch_style{filter:grayscale(1) brightness(.5);}
.battle_ch.addicted .ch_box .ch_style{filter:blur(1px);}
.battle_ch.bleeding.addicted .ch_box .ch_style{filter:grayscale(1) brightness(.5) blur(1px);}
.battle_ch.petrification .ch_box{filter:grayscale(1) brightness(2);}
.battle_ch.petrification .ch_ring{animation-play-state:paused;}
@keyframes fadeIn{
  0%{opacity:0;}
  100%{opacity:1;}
}
@keyframes fadeOut{
  0%{opacity:0;}
  100%{opacity:1;}
}

.battle_land{display:flex;flex-direction:column;position:absolute;left:0;right:0;bottom:0;top:0;}
.battle_land > div{position:relative;margin:0 auto;box-sizing:border-box;}
.battle_land .land_ally{position:relative;margin:0 auto;}
.battle_land .land_enemy{position:relative;margin:0 auto;}
.battle_land.ready .land{outline-width:2px;}
.battle_land.critical{animation:landCritical .2s ease-in-out;}

.battle_effect{display:flex;flex-direction:column;position:absolute;left:0;right:0;bottom:0;top:0;z-index:3;pointer-events:none;overflow:hidden;}
.battle_effect > div{position:relative;margin:0 auto;box-sizing:border-box;}
.battle_effect .land_ally{position:relative;margin:0 auto;}
.battle_effect .land_ally.allEff .effect_land:nth-of-type(13){transform:scale(5);z-index:1;}
.battle_effect .land_enemy{position:relative;margin:0 auto;}
.battle_effect .land_enemy.allEff .effect_land:nth-of-type(13){transform:scale(5);z-index:1;}
.battle_effect.ready .land{outline-width:2px;}

.effect_land{position:absolute;width:20%;padding-top:20%;box-sizing:border-box;border-radius:0;overflow:hidden;}
.effect_land .dmgNum{position:absolute;left:50%;top:50%;color:var(--color-red);font-size:0.938rem;font-weight:600;opacity:1;transform:translate(-50%,-50%) scale(1);text-shadow:0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff;z-index:10;}
.effect_land.dmg .dmgNum{opacity:0;transform:translate(-50%,-180%) scale(2);}
.effect_land .effect_eff{position:absolute;left:0;top:0;width:500%;z-index:11;transition:unset;}

.land{position:absolute;width:20%;padding-top:20%;box-sizing:border-box;border-radius:0;background-size: 100%;outline:0px solid #fff;transition:outline 1s;}
.land:before{content:'';position:absolute;left:0;right:0;top:0;bottom:0;background:#000;opacity:.1;}

.battle_order{position:absolute;left:0;right:0;transform:translate(0,-50%);z-index:30;pointer-events:none;}
.battle_order.ally{bottom:35%;}
.battle_order.enemy{top:35%;}
.battle_order.on{opacity:1;}
.battle_order.ally:after{content:'';position:absolute;bottom:-10px;border-top:10px solid #333;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:0 solid transparent;}
.battle_order.enemy:after{content:'';position:absolute;top:-10px;border-bottom:10px solid #333;border-left:10px solid transparent;border-right:10px solid transparent;border-top:0 solid transparent;}
.battle_order.left:after{left:30%;}
.battle_order.center:after{left:50%;}
.battle_order.right:after{right:30%;}
.battle_order .battle_msg{margin:0 auto;padding:10px;width:50%;height:100%;border-radius:10px;background:#333;box-sizing:border-box;text-align:center;line-height:1.2;font-size:0.938rem;font-weight:600;color:#fff;}

.battle_weather{position:absolute;right:5px;bottom:0;width:50px;height:115px;transition:all 0.5s;border-radius:10px 0 0 0;z-index:51;}
.battle_weather .weather_icon{position:relative;margin:0 0 5px 0;width:50px;height:50px;border-radius:25px;box-shadow:0 0 10px #000;border:2px solid #ddd;box-sizing:border-box;background:radial-gradient(at 30% 30%, rgba(200,200,200,1) 0%, rgba(0,0,0,1) 60%);overflow:hidden;}
.battle_weather .weather_icon.day{background:radial-gradient(at 30% 30%, rgba(200,200,200,1) 0%, rgba(50,50,0,1) 60%);}
.battle_weather .weather_icon.night{background:radial-gradient(at 30% 30%, rgba(100,100,100,1) 0%, rgba(0,0,0,1) 60%);}
.battle_weather .weather_typeIcon{position:absolute;left:0;top:0;transition:all .5s;}
.battle_weather .weather_arrow{position:absolute;width:46px;height:46px;transition:all .5s;}

.battle_wrap .relation_area{display:flex;position:absolute;left:0;right:0;top:0;bottom:0;flex-direction:column;z-index:50;align-items:center;justify-content:center;pointer-events:none;}
.battle_wrap .relation_area:after{content:'';position:absolute;width:100%;height:0;box-shadow:0 0 20px 10px rgba(0,0,0,0);background:rgba(0,0,0,.7);}
.battle_wrap .relation_area .relationTitle{margin:0 0 10px 0;z-index:1;}
.battle_wrap .relation_area .relationTitle span{display:inline-block;margin:0 2px;font-size:2.1rem;font-weight:600;opacity:0;color:#fff;}
.battle_wrap .relation_area.on .relationTitle span{opacity:1;}
.battle_wrap .relation_area.on .relationName{filter:blur(0);}
.battle_wrap .bgEffect{position:absolute;left:0;right:0;top:0;bottom:50px;pointer-events:none;}
.battle_wrap .bgEffect .cloud{position:absolute;width:1000px;height:400px;z-index:40;animation-play-state:running;}
.battle_wrap .bgEffect.action .cloud{animation-play-state:paused;opacity:0;}
.battle_wrap .bgEffect.action .cloud2{left:-1000px;animation-play-state:paused;}
.battle_wrap .bgEffect .bg_light{position:absolute;left:0;right:0;top:0;bottom:0;z-index:39;transition:all .5s;overflow:hidden;}
.battle_wrap .bgEffect .bg_light .circle{position:absolute;border-radius:50%;}
.battle_wrap .bgEffect .bg_light .circle:first-of-type{left:65%;top:3%;width:10px;height:10px;background:#fff;opacity:.5;filter:blur(2px);}
.battle_wrap .bgEffect .bg_light .circle:nth-of-type(2){left:37%;top:6%;width:60px;height:60px;background:#fff;opacity:.5;filter:blur(3px);}
.battle_wrap .bgEffect .bg_light .circle:nth-of-type(3){left:47%;top:28%;width:20px;height:20px;background:#fff;opacity:.5;filter:blur(2px);}
.battle_wrap .bgEffect .bg_light .circle:nth-of-type(4){left:23%;top:18%;width:30px;height:30px;background:#fff;opacity:.5;filter:blur(3px);}
.battle_wrap .bgEffect .bg_light .circle:nth-of-type(5){left:8%;top:3%;width:20px;height:20px;background:#fff;}
.battle_wrap.order .bgEffect .bg_light.lightning, .battle_wrap.action .bgEffect .bg_light.lightning{transition:unset;animation:onoff 8s infinite;}
@keyframes onoff{
  10%{opacity:1;}
  11%{opacity:0;}
  12%{opacity:1;}
  14%{opacity:0;}
  15%{opacity:1;}
  16%{opacity:0;}
  18%{opacity:1;}
  66%{opacity:1;}
  67%{opacity:0;}
  69%{opacity:1;}
  70%{opacity:0;}
  71%{opacity:1;}
}
.battle_wrap .bgEffect canvas{position:absolute;left:0;right:0;top:0;z-index:40;}

.battle_scenario{position:absolute;left:0;right:0;top:0;bottom:0;padding:20px;box-sizing:border-box;z-index:10;background-color:rgba(0,0,0,.85);}
.scenario_box{margin:15px 0;align-items:center;}
.scenario_ch{position:relative;width:100px;height:100px;}
.scenario_ch .ch_name{position:absolute;bottom:0;width:100%;text-align:center;word-break:keep-all;line-height:1.3;font-weight:600;font-size:0.875rem;}
.scenario_ch .ring_back{display:block;position:absolute;left:10%;top:10%;width:80%;height:80%;border-radius:40px;overflow:hidden;box-shadow:0 0 10px #fff;}
.scenario_ch .ch_style{display:block;position:absolute;left:-10%;top:-20%;width:120%;height:120%;background-repeat:no-repeat;}
.scenario_talk{position:relative;padding:10px;border:4px solid #fff;background:rgba(255,255,255,.7);box-sizing:border-box;border-radius:10px;color:#000;flex:1;line-height:1.5;font-size:0.875rem;}
.scenario_box.left .scenario_talk:after{
  content:"";position:absolute;top:50%;left:-14px;
  transform:translate(0,-50%);
  border-right: 10px solid #fff;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;}
.scenario_box.right .scenario_talk:after{
  content:"";position:absolute;top:50%;right:-14px;
  transform:translate(0,-50%);
  border-left:10px solid #fff;
  border-top:10px solid transparent;
  border-bottom:10px solid transparent;}
.scenario_box.left .scenario_ch{margin:0 10px 0 0;order:1;}
.scenario_box.left .scenario_talk{order:2;}
.scenario_box.right .scenario_ch{margin:0 0 0 10px;order:2;}
.scenario_box.right .scenario_talk{order:1;}
.scenario_box.ally .scenario_ch .ch_name{text-shadow:0 0 3px #00f,0 0 3px #00f,0 0 3px #00f;}
.scenario_box.enemy .scenario_ch .ch_name{text-shadow:0 0 3px #f00,0 0 3px #f00,0 0 3px #f00;}
